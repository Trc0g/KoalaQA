#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🔍 运行 TypeScript 类型检查（前端项目）..."
echo ""

# 切换到前端项目目录
cd "ui/front" || exit 1

# 运行 TypeScript 类型检查
pnpm run type-check

if [ $? -ne 0 ]; then
  echo ""
  echo "❌ TypeScript 类型检查失败！"
  echo "请修复以上错误后再进行 push"
  echo ""
  echo "提示:"
  echo "  - 查看错误信息并修复类型问题"
  echo "  - 或运行 'cd ui/front && pnpm run type-check' 查看详细错误"
  echo "  - 如需跳过检查: git push --no-verify (不推荐)"
  echo ""
  exit 1
fi

echo ""
echo "✅ TypeScript 类型检查通过！"
echo ""
